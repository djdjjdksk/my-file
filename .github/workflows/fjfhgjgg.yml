name: Download Airgeddon & Security Tools

on: [push, workflow_dispatch]

jobs:
  download-dependencies:
    runs-on: ubuntu-latest

    steps:
      - name: 🛠️ تحديث المستودعات وإعداد بيئة العمل
        run: sudo apt update

      - name: 📂 إنشاء مجلد لحفظ ملفات التثبيت
        run: mkdir -p security-tools

      - name: 📥 تنزيل ملفات التثبيت للأدوات المطلوبة
        run: |
          cd security-tools
          tools=(
            # 🛠️ أدوات أساسية لنظام الاختبار والاختراق
            aircrack-ng
            bash
            coreutils
            curl
            dnsutils
            git
            gawk
            iproute2
            iw
            pciutils
            procps
            tmux
            xterm
            wget
            unzip
            nano
            htop
            jq
            net-tools
            socat
            whois

            # 🕵️ أدوات الاختراق اللاسلكي (Wireless Hacking)
            asleap
            bettercap
            bully
            crunch
            hashcat
            hostapd
            hostapd-wpe
            macchanger
            mdk3
            mdk4
            reaver
            wifite
            wifiphisher

            # 🔍 أدوات الفحص والاستطلاع (Reconnaissance)
            nmap
            masscan
            netcat
            tcpdump
            wireshark
            nikto
            whatweb

            # 💀 أدوات الهجوم على كلمات المرور (Password Attacks)
            hydra
            medusa
            john
            hash-identifier
            ophcrack

            # 📡 أدوات هجوم الشبكات والبروتوكولات
            ettercap-text-only
            sslstrip
            responder
            mitmproxy
            dsniff
            arpspoof
            dnsmasq
            darkstat

            # ⚡ أدوات الهندسة العكسية والتحليل الأمني
            radare2
            gdb
            strace
            ltrace
            binwalk
            volatility

            # 🖥️ أدوات اختبار تطبيقات الويب
            sqlmap
            wfuzz
            commix
            zaproxy
            burpsuite

            # 🏴 أدوات التسلل والحركة الجانبية
            metasploit-framework
            powersploit
            empire
            mimikatz
            crackmapexec
            smbmap

            # 🖥️ أدوات إضافية متعلقة بـ Airgeddon
            pyrit
            python3
            python3-pip
            screen
            xdotool
          )

          for tool in "${tools[@]}"; do
            if apt-cache show "$tool" > /dev/null 2>&1; then
              apt download "$tool" && echo "[✔] Downloaded: $tool"
            else
              echo "[✘] Not Found in Ubuntu repositories: $tool"
            fi
          done

      - name: 📦 ضغط ملفات التثبيت
        run: |
          cd security-tools
          tar -czvf ../security-tools.tar.gz ./*

      - name: ⬆️ رفع الأرشيف إلى GitHub Artifacts
        uses: actions/upload-artifact@v4
        with:
          name: security-tools
          path: security-tools.tar.gz
